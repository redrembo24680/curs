<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–ª–æ–≤–Ω–∞ ¬∑ –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/modal.css">
    <link rel="stylesheet" href="/static/stats.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
<nav class="navbar">
    <div class="logo">‚öΩ –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</div>
    <ul class="nav-links">
        <li><a href="/" class="active">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li><a href="/players">–ì—Ä–∞–≤—Ü—ñ</a></li>
        <li><a href="/matches">–ú–∞—Ç—á—ñ</a></li>
        <li><a href="/stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
        <li><a href="/health">–°—Ç–∞–Ω API</a></li>
    </ul>
    <div class="nav-meta">
        <div class="stats-bar" id="stats-bar">
            <span>üë• 0 –≥—Ä–∞–≤—Ü—ñ–≤</span>
            <span>üèüÔ∏è 0 –º–∞—Ç—á—ñ–≤</span>
            <span>üó≥Ô∏è 0 –≥–æ–ª–æ—Å—ñ–≤</span>
        </div>
        <div class="auth-bar" id="auth-bar">
            <a class="btn ghost" href="/login">–£–≤—ñ–π—Ç–∏</a>
            <a class="btn primary small" href="/register">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
        </div>
    </div>
</nav>

<main>
    <div id="flash-container"></div>

    <section class="section intro">
        <div>
            <h1>–°–∏—Å—Ç–µ–º–∞ Live-–≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –≥—Ä–∞–≤—Ü—ñ–≤ –º–∞—Ç—á—É</h1>
            <p class="muted">–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –Ω–∞–π–∫—Ä–∞—â–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —Ñ—É—Ç–±–æ–ª—å–Ω–∏—Ö –º–∞—Ç—á—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.</p>
        </div>
    </section>

    <section class="section">
        <div class="card">
            <h2>–ü—Ä–æ –ø—Ä–æ–µ–∫—Ç</h2>
            <div style="line-height: 1.8;">
                <p>
                    <strong>–°–∏—Å—Ç–µ–º–∞ Live-–≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</strong> ‚Äî —Ü–µ –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —É–±–æ–ª—ñ–≤–∞–ª—å–Ω–∏–∫–∞–º 
                    –≥–æ–ª–æ—Å—É–≤–∞—Ç–∏ –∑–∞ –Ω–∞–π–∫—Ä–∞—â–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –ø—ñ–¥ —á–∞—Å —Ñ—É—Ç–±–æ–ª—å–Ω–∏—Ö –º–∞—Ç—á—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
                </p>
                
                <h3 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">–û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:</h3>
                <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                    <li><strong>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –ø–æ–ª–µ:</strong> –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –≥—Ä–∞–≤—Ü—ñ–≤ –Ω–∞ –ø–æ–ª—ñ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</li>
                    <li><strong>–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å:</strong> –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –º–∏—Ç—Ç—î–≤–æ</li>
                    <li><strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong> –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–∂–Ω–æ–º—É –≥—Ä–∞–≤—Ü—é —Ç–∞ –º–∞—Ç—á—É</li>
                    <li><strong>–ë–µ–∑–ø–µ–∫–∞:</strong> –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –º–∞—Ç—á</li>
                    <li><strong>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è:</strong> –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Ç—á—ñ, –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –≥—Ä–∞–≤—Ü—ñ–≤</li>
                </ul>
                
                <h3 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:</h3>
                <ol style="margin-left: 1.5rem; margin-top: 0.5rem;">
                    <li>–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É <a href="/matches">"–ú–∞—Ç—á—ñ"</a></li>
                    <li>–û–±–µ—Ä—ñ—Ç—å –∞–∫—Ç–∏–≤–Ω–∏–π –º–∞—Ç—á</li>
                    <li>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –≥—Ä–∞–≤—Ü—è –Ω–∞ –ø–æ–ª—ñ, —â–æ–± –≤—ñ–¥–¥–∞—Ç–∏ –π–æ–º—É —Å–≤—ñ–π –≥–æ–ª–æ—Å</li>
                    <li>–ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ</li>
                </ol>
                
                <div style="margin-top: 2rem; padding: 1rem; background: #f3f4f6; border-radius: 8px;">
                    <p style="margin: 0;">
                        <strong>üí° –ü–æ—Ä–∞–¥–∞:</strong> –î–ª—è –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ 
                        <a href="/login">—É–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</a>. 
                        –Ø–∫—â–æ —É –≤–∞—Å –Ω–µ–º–∞—î –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, –≤–∏ –º–æ–∂–µ—Ç–µ 
                        <a href="/register">–∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a> –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="section grid-two">
        <div class="card">
            <h2>–ê–∫—Ç–∏–≤–Ω—ñ –º–∞—Ç—á—ñ</h2>
            <div id="matches-list" style="margin-top: 1rem;">
                <p class="muted">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
            </div>
            <p style="margin-top: 1rem; text-align: center;">
                <a href="/matches" class="btn primary" style="display: inline-block;">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</a>
            </p>
        </div>

        <div class="card">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏</h2>
            <div id="system-stats" style="margin-top: 1rem;">
                <p class="muted">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
            </div>
        </div>
    </section>
</main>

<footer>
    –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –≥—Ä–∞–≤—Ü—ñ–≤ &middot; Backend: C++ ¬∑ Frontend: Static HTML
</footer>

<script src="/static/app.js"></script>
<script>
// Load matches
async function loadMatches() {
    const data = await api.get('/matches-page', { matches: [], teams: [] });
    const matches = data.matches || [];
    const matchesList = document.getElementById('matches-list');
    
    if (matches.length === 0) {
        matchesList.innerHTML = '<p class="muted">–ù–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –º–∞—Ç—á—ñ–≤. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –º–∞—Ç—á —É –≤–∫–ª–∞–¥—Ü—ñ "–ú–∞—Ç—á—ñ".</p>';
        return;
    }
    
    matchesList.innerHTML = matches.map(match => `
        <div class="match-item" style="padding: 0.75rem; margin-bottom: 0.5rem; background: ${match.isActive ? '#f0fdf4' : '#f9fafb'}; border-radius: 6px; border-left: 3px solid ${match.isActive ? '#10b981' : '#6b7280'};">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong>${match.team1} vs ${match.team2}</strong>
                    <p style="margin: 0.25rem 0 0 0; font-size: 0.85rem; color: #6b7280;">${match.date || ''}</p>
                </div>
                <span class="badge ${match.isActive ? 'badge-success' : 'badge-muted'}" style="font-size: 0.75rem;">
                    ${match.isActive ? '–ê–∫—Ç–∏–≤–Ω–∏–π' : '–ó–∞–≤–µ—Ä—à–µ–Ω–æ'}
                </span>
            </div>
        </div>
    `).join('');
}

// Load system stats
async function loadSystemStats() {
    const stats = await api.get('/stats', { total_players: 0, total_matches: 0, total_votes: 0 });
    const statsDiv = document.getElementById('system-stats');
    
    statsDiv.innerHTML = `
        <div style="display: flex; justify-content: space-between; padding: 0.75rem 0; border-bottom: 1px solid #e5e7eb;">
            <span>–í—Å—å–æ–≥–æ –º–∞—Ç—á—ñ–≤:</span>
            <strong>${stats.total_matches || 0}</strong>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 0.75rem 0; border-bottom: 1px solid #e5e7eb;">
            <span>–í—Å—å–æ–≥–æ –≥—Ä–∞–≤—Ü—ñ–≤:</span>
            <strong>${stats.total_players || 0}</strong>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 0.75rem 0;">
            <span>–í—Å—å–æ–≥–æ –≥–æ–ª–æ—Å—ñ–≤:</span>
            <strong>${stats.total_votes || 0}</strong>
        </div>
    `;
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    loadMatches();
    loadSystemStats();
});
</script>
</body>
</html>

