<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞–≤—Ü—ñ ¬∑ –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
<nav class="navbar">
    <div class="logo">‚öΩ –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</div>
    <ul class="nav-links">
        <li><a href="/">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li><a href="/players" class="active">–ì—Ä–∞–≤—Ü—ñ</a></li>
        <li><a href="/matches">–ú–∞—Ç—á—ñ</a></li>
        <li><a href="/stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
        <li><a href="/health">–°—Ç–∞–Ω API</a></li>
    </ul>
    <div class="nav-meta">
        <div class="stats-bar" id="stats-bar">
            <span>üë• 0 –≥—Ä–∞–≤—Ü—ñ–≤</span>
            <span>üèüÔ∏è 0 –º–∞—Ç—á—ñ–≤</span>
            <span>üó≥Ô∏è 0 –≥–æ–ª–æ—Å—ñ–≤</span>
        </div>
        <div class="auth-bar" id="auth-bar">
            <a class="btn ghost" href="/login">–£–≤—ñ–π—Ç–∏</a>
            <a class="btn primary small" href="/register">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
        </div>
    </div>
</nav>

<main>
    <div id="flash-container"></div>

    <section class="section grid-two">
        <div class="card">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä–∞–≤—Ü—ñ–≤</h2>
            <p>–£ —Å–∏—Å—Ç–µ–º—ñ: <strong id="players-count">0</strong> –≥—Ä–∞–≤—Ü—ñ–≤.</p>
            <p class="muted">–°–ø–∏—Å–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è –∑ –±–∞–∑–æ—é —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –∫–æ–º–∞–Ω–¥.</p>
        </div>
        <div class="card">
            <h2>–î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É</h2>
            <p class="muted">–£–≤—ñ–π–¥—ñ—Ç—å –ø—ñ–¥ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º admin/admin123, —â–æ–± —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –≥—Ä–∞–≤—Ü—ñ–≤.</p>
        </div>
    </section>

    <section class="section">
        <h2>–°–ø–∏—Å–æ–∫ –≥—Ä–∞–≤—Ü—ñ–≤</h2>
        <div id="players-table-container">
            <p class="muted">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
        </div>
    </section>

    <section class="section">
        <h2>–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏</h2>
        <div id="teams-grid" class="teams-grid">
            <p class="muted">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
        </div>
    </section>
</main>

<footer>
    –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –≥—Ä–∞–≤—Ü—ñ–≤ &middot; Backend: C++ ¬∑ Frontend: Static HTML
</footer>

<script src="/static/app.js"></script>
<script>
async function loadPlayers() {
    const data = await api.get('/players-page', { players: [], teams: [] });
    const players = data.players || [];
    const teams = data.teams || [];
    
    document.getElementById('players-count').textContent = players.length;
    
    // Render players table
    if (players.length === 0) {
        document.getElementById('players-table-container').innerHTML = '<p class="muted">–ì—Ä–∞–≤—Ü—ñ–≤ —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ.</p>';
    } else {
        const teamMap = {};
        teams.forEach(t => teamMap[t.id] = t.name);
        
        const tableHTML = `
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–Ü–º'—è</th>
                        <th>–ö–æ–º–∞–Ω–¥–∞</th>
                        <th>–ü–æ–∑–∏—Ü—ñ—è</th>
                        <th>–ì–æ–ª–æ—Å—ñ–≤</th>
                    </tr>
                </thead>
                <tbody>
                    ${players.map(p => `
                        <tr>
                            <td>${p.id}</td>
                            <td>${p.name}</td>
                            <td>${teamMap[p.team_id] || ''}</td>
                            <td>${p.position}</td>
                            <td>${p.votes || 0}</td>
                        </tr>
                    `).join('')}
                </tbody>
            </table>
        `;
        document.getElementById('players-table-container').innerHTML = tableHTML;
    }
    
    // Render teams
    if (teams.length === 0) {
        document.getElementById('teams-grid').innerHTML = '<p class="muted">–ö–æ–º–∞–Ω–¥ —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ.</p>';
    } else {
        document.getElementById('teams-grid').innerHTML = teams.map(t => `
            <div class="team-card">
                <h3>${t.name}</h3>
                <p class="muted">ID: ${t.id}</p>
            </div>
        `).join('');
    }
}

document.addEventListener('DOMContentLoaded', () => {
    loadPlayers();
});
</script>
</body>
</html>

